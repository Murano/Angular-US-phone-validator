angular.module("usPhone",[]);angular.module("usPhone").filter("phonenumber",function(){return function(f){if(!f){return""}f=String(f);var g=f;var h=(f[0]=="+7")?"+7 ":"";f=f[0]=="+7"?f.slice(2):f;var e=f.substring(0,3);var d=f.substring(3,6);var b=f.substring(6,8);var a=f.substring(8,10);if(d){g=(h+"("+e+") "+d)}if(b){g+=("-"+b)}if(a){g+=("-"+a)}return g}});angular.module("usPhone").directive("usPhoneDirective",["$filter",function(a){return{restrict:"A",scope:{ngModel:"="},link:function(c,e,d,b){c.$watch("ngModel",function(h,f){var g=String(h).replace(/[^0-9]+/g,"");c.ngModel=a("phonenumber")(g)})}}}]);
